function Bar(e){this.init(e)}Bar.prototype.init=function(e){var o=document.querySelector(e.min),i=o.parentElement,t=i.parentElement,n=i.getBoundingClientRect(),r=i.querySelector(e.max),u=document.querySelector(e.text_min),a=document.querySelector(e.text_max),c=i.querySelector(e.color_bar),d=Number(e.bar_min),m=Number(e.bar_max),l=(m-d)/n.width,s=this,_="min_coord";o.ondragstart=function(){return!1},r.ondragstart=function(){return!1},Object.defineProperty(this,"min_value",{get:function(){return Number(u.value)},set:function(e){var t=i.getBoundingClientRect();e<d&&(e=d),e>this.max_value&&(e=this.max_value),this.min_coord=(e-d)/l+t.left}}),Object.defineProperty(this,"max_value",{get:function(){return Number(a.value)},set:function(e){var t=i.getBoundingClientRect();e<this.min_value&&(e=this.min_value),m<e&&(e=m),this.max_coord=(e-d)/l+t.left}}),Object.defineProperty(this,"min_coord",{get:function(){var e=o.getBoundingClientRect();return e.left+e.width/2},set:function(e){var t=o.getBoundingClientRect(),n=i.getBoundingClientRect();e>this.max_coord&&(e=this.max_coord),(e=e-n.left-t.width/2)<-t.width/2&&(e=-t.width/2),o.style.left=e+"px",c.style.left=e+"px",u.value=Math.round((e+t.width/2)*l)+d}}),Object.defineProperty(this,"max_coord",{get:function(){var e=r.getBoundingClientRect();return e.left+e.width/2},set:function(e){var t=r.getBoundingClientRect(),n=i.getBoundingClientRect();e<this.min_coord&&(e=this.min_coord),(e=n.right-e-t.width/2)<-t.width/2&&(e=-t.width/2),r.style.right=e+"px",c.style.right=e+"px",a.value=Math.round(m-(e+t.width/2)*l)}}),u.addEventListener("change",function(){s.min_value=Number(this.value)}),a.addEventListener("change",function(){s.max_value=Number(this.value)}),o.addEventListener("mousedown",function(e){document.onmousemove=function(e){s.min_coord=e.pageX},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}),r.addEventListener("mousedown",function(e){document.onmousemove=function(e){s.max_coord=e.pageX},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}),o.addEventListener("keydown",function(e){switch(e.keyCode){case 39:s.min_value+=500;break;case 37:s.min_value-=500}}),r.addEventListener("keydown",function(e){switch(e.keyCode){case 39:s.max_value+=500;break;case 37:s.max_value-=500}}),o.addEventListener("focus",function(e){_="min_coord"}),r.addEventListener("focus",function(e){_="max_coord"}),t.addEventListener("click",function(e){s[_]=e.pageX}),this.min_value=u.value,this.max_value=a.value};var bar=new Bar({min:".filter__range .bar__control--min",max:".filter__range .bar__control--max",text_min:".filter__cost--min",text_max:".filter__cost--max",color_bar:".filter__range .bar__color",bar_min:1,bar_max:36e3});
