function Slider(t){this.init(t)}Slider.prototype.init=function(i){function s(t,e){return function(){t.go(e)}}for(var t,e,n=document.getElementsByClassName(i.slider_list)[0],r=n.parentElement,l=i.button_prev&&document.getElementsByClassName(i.button_prev)[0],c=i.button_next&&document.getElementsByClassName(i.button_next)[0],o=i.dot_list&&document.getElementsByClassName(i.dot_list)[0],d=i.active_dot,h=i.disable_action,a=(r.getBoundingClientRect(),n.getBoundingClientRect(),n.children.length),_=this,u=[],b=[],m=n.offsetTop,v=0;v<n.children.length;v++)u.push(m-n.children[v].offsetTop),b.push(n.children[v].offsetHeight);o&&function(){for(var t=0;t<a;t++){if(t>=o.children.length){var e=o.lastElementChild.cloneNode(!0);o.appendChild(e)}o.children[t].addEventListener("click",s(_,t))}d||(d=i.dot_list+"--active"),o.children[0].classList.add(d)}(),l&&l.addEventListener("click",(t=_,function(){t.go("prev")})),c&&c.addEventListener("click",(e=_,function(){e.go("next")})),(this.disable_action=h)&&(this.set_action(n,!1),this.set_action(n.children[0],!0)),this.item_current=0,this.button_prev=l,this.button_next=c,this.item_count=a,this.dot_list=o,this.slider=n,this.active_dot_class=d,this.tops=u,this.heights=b,this.change_by_class=i.change_by_class,this.go(0)},Slider.prototype.go=function(t){var e=this.item_current;switch(t){case"next":this.item_current++;break;case"prev":this.item_current--;break;default:if(t=Number(t),isNaN(t))return;if(t>=this.item_count||t<0)return;this.item_current=t}this.button_prev&&(0==this.item_current?this.button_prev.setAttribute("disabled",!0):this.button_prev.removeAttribute("disabled")),this.button_next&&(this.item_current==this.item_count-1?this.button_next.setAttribute("disabled",!0):this.button_next.removeAttribute("disabled")),this.change_by_class?(this.slider.children[e].classList.remove(this.change_by_class),this.slider.children[this.item_current].classList.add(this.change_by_class)):(this.slider.style.transform="translateY("+this.tops[this.item_current]+"px)",this.slider.parentElement.style.height=this.heights[this.item_current]+"px"),this.dot_list&&(this.dot_list.children[e].classList.remove(this.active_dot_class),this.dot_list.children[this.item_current].classList.add(this.active_dot_class)),this.disable_action&&(this.set_action(this.slider.children[e],!1),this.set_action(this.slider.children[this.item_current],!0))},Slider.prototype.set_action=function(t,e){for(var i=t.getElementsByClassName(this.disable_action),s=i.length,n=0;n<s;n++)e?i[n].removeAttribute("tabindex"):i[n].setAttribute("tabindex",-1)};var promo_slider=new Slider({slider_list:"slider",button_prev:"slider-button__prev",button_next:"slider-button__next",dot_list:"control-list",active_dot:"control-list__item--active",disable_action:"slider__action"}),service_slider=new Slider({slider_list:"slide-list",dot_list:"service-list",active_dot:"service-list__item--active",disable_action:"button-send",change_by_class:"slide-list__item--active"});
