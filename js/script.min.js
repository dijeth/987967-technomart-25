function closer(){for(var t=this;!t.parentElement.classList.contains("modal--show");)t=t.parentElement;t.parentElement.classList.remove("modal--show")}function show_modal(t,e){for(var o=document.querySelectorAll(t),n=o.length,l=0;l<n;l++)o[l].addEventListener("click",function(t){t.preventDefault(),document.getElementsByClassName(e)[0].classList.add("modal--show")})}function click_modal(t,o){if(t=document.querySelector(t)){o=t.querySelector(o);t.addEventListener("click",function(t){var e=o.getBoundingClientRect();t.pageX>e.left&&t.pageX<e.right&&t.pageY>e.top+pageYOffset&&t.pageY<e.bottom+pageYOffset||this.classList.remove("modal--show")})}}for(var maxi=(is=document.getElementsByClassName("role-close")).length,i=0;i<maxi;i++)is[i].addEventListener("click",closer);if(show_modal(".contacts .main-button","modal--write-us"),show_modal(".contacts__map a","modal--map"),window.addEventListener("keydown",function(t){if(27==t.keyCode){var e=document.querySelector(".modal--show");e&&(t.preventDefault(),e.classList.remove("modal--show"))}}),click_modal(".modal--cart-plus",".dialog"),click_modal(".modal--map",".map-popup"),click_modal(".modal--write-us",".dialog"),"ontouchstart"in document.documentElement){function setPEStyleToBtn(){for(var t=document.querySelectorAll(".tool__button"),e=t.length,o=0;o<e;o++)t[o].style.pointerEvents="none"}for(maxi=(is=document.querySelectorAll(".tool")).length,i=0;i<maxi;i++)is[i].querySelectorAll(".tool__button").forEach(function(t){t.style.pointerEvents="none",t.addEventListener("click",function(t){t.preventDefault(),this.style.pointerEvents="none";var e=this.classList.contains("tool__button--buy")?document.querySelector(".button-cart"):document.querySelector(".button-bookmarks");e.classList.add("button-cart--full"),e.innerText=e.innerText.replace(/(\d+)/,function(t){return Number(t)+1}),this.classList.contains("tool__button--buy")&&document.getElementsByClassName("modal--cart-plus")[0].classList.add("modal--show")})}),is[i].addEventListener("click",function(t){t.target.classList.contains("tool__button")||this.querySelectorAll(".tool__button").forEach(function(t){t.style.pointerEvents="auto"})})}else{for(maxi=(is=document.getElementsByClassName("tool__button--buy")).length,i=0;i<maxi;i++)is[i].addEventListener("click",function(t){t.preventDefault();var e=document.getElementsByClassName("button-cart")[0];e.classList.add("button-cart--full"),e.innerText=e.innerText.replace(/(\d+)/,function(t){return Number(t)+1}),document.getElementsByClassName("modal--cart-plus")[0].classList.add("modal--show")});var is;for(maxi=(is=document.getElementsByClassName("tool__button--bookmark")).length,i=0;i<maxi;i++)is[i].addEventListener("click",function(t){t.preventDefault();var e=document.getElementsByClassName("button-bookmarks")[0];e.classList.add("button-cart--full"),e.innerText=e.innerText.replace(/(\d+)/,function(t){return Number(t)+1})})}
